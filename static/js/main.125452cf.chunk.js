(this["webpackJsonprecruitment-task"]=this["webpackJsonprecruitment-task"]||[]).push([[0],{10:function(e,t,a){e.exports={"user-details-card-top":"UserCardTop_user-details-card-top__1Ht6M","user-details-card-top-description-header-3":"UserCardTop_user-details-card-top-description-header-3__3dhpt","user-details-card-top-description-rank":"UserCardTop_user-details-card-top-description-rank__HvrHl","user-card-top":"UserCardTop_user-card-top__JKpsj","user-card-top-description":"UserCardTop_user-card-top-description__47fH-","user-card-top-description-login":"UserCardTop_user-card-top-description-login__HU12x","user-card-top-description-rank":"UserCardTop_user-card-top-description-rank__1h253","user-card-top-description-rank-badge-a":"UserCardTop_user-card-top-description-rank-badge-a__swAPK","user-card-top-description-rank-badge-b":"UserCardTop_user-card-top-description-rank-badge-b__1TS0E","user-card-top-description-rank-badge-c":"UserCardTop_user-card-top-description-rank-badge-c__rUPvE","user-card-top-description-rank-id":"UserCardTop_user-card-top-description-rank-id__13J8B","user-card-top-description-image":"UserCardTop_user-card-top-description-image__1_Rt0","user-card-top-description-page":"UserCardTop_user-card-top-description-page__2Uvxq"}},12:function(e,t,a){e.exports={"app-header":"Header_app-header__c0C0x","app-header-block":"Header_app-header-block__2jHam","app-header-block-app-logo":"Header_app-header-block-app-logo__3gTHo","app-header-block-app-logo-text":"Header_app-header-block-app-logo-text__2S_yi","app-header-block-app-logo-image":"Header_app-header-block-app-logo-image__2XDnP","app-header-1":"Header_app-header-1__3Y4xw","back-button":"Header_back-button__5okR5",active:"Header_active__1jKZZ"}},13:function(e,t,a){e.exports={"user-details":"UserDetails_user-details__2qFHH","user-details-header-2":"UserDetails_user-details-header-2__3DKmJ","user-details-header-3":"UserDetails_user-details-header-3__1L6dm","user-details-paragraph":"UserDetails_user-details-paragraph__2PliU"}},19:function(e,t,a){e.exports={notification:"Notification_notification__1KS6U","notification-header":"Notification_notification-header__OKv0q","notification-paragraph":"Notification_notification-paragraph__qrnuS",error:"Notification_error__PIDtl",success:"Notification_success__3ALUr"}},28:function(e,t,a){e.exports={user:"User_user__2a2bi","user-footer":"User_user-footer__35jX5","user-footer-button":"User_user-footer-button__3fN-I"}},29:function(e,t,a){e.exports={image:"UserImage_image__3560o","image-small":"UserImage_image-small__rV2K0","image-big":"UserImage_image-big__1B3uN"}},30:function(e,t,a){e.exports={app:"Layout_app__3iHya","user-list":"Layout_user-list__1cKV0","user-details":"Layout_user-details__2Je5_"}},45:function(e,t,a){e.exports={"users-list":"UsersList_users-list__3Uclp"}},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var r,s=a(25),c=a(4),i=a(22),n=a(44),o=a(0),l=a(16),d=a(3),u=a(45),p=a.n(u),j=a(28),b=a.n(j),h=a(1),_=function(e){var t=e.destinationPath,a=e.buttonClass,r=e.children;return Object(h.jsx)(l.b,{to:t,activeClassName:"object"===typeof a?a.active:"",className:"object"===typeof a?"":a,children:Object(h.jsx)("span",{children:r})})},O="https://api.github.com/users?per_page=",g="/METAPAK-task",m=function(e){var t=e.id,a=e.classes,r=null,s=t%4===0,c=t%6===0;return s?r=Object(h.jsx)("span",{className:a["user-card-top-description-rank-badge-a"],children:"Team A"}):c&&(r=Object(h.jsx)("span",{className:a["user-card-top-description-rank-badge-b"],children:"Team B"})),s&&c&&(r=Object(h.jsx)("span",{className:a["user-card-top-description-rank-badge-c"],children:"Team C"})),r},f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg==",A=a(29),I=a.n(A),N=function(e){var t=e.avatar_url,a=e.isUserDetails?I.a["image-big"]:I.a["image-small"];return Object(h.jsx)("img",{className:"".concat(I.a.image," ").concat(a),alt:"User",src:t})},v=a(10),E=a.n(v),x=function(e){var t=e.login,a=e.id,r=e.html_url,s=e.avatar_url,c=e.isUserDetails,i=c?E.a["user-details-card-top"]:E.a["user-card-top"],n=c?E.a["user-details-card-top-description-rank"]:E.a["user-card-top-description-rank"];return Object(h.jsxs)("div",{className:i,children:[Object(h.jsx)(N,{avatar_url:s,isUserDetails:c}),Object(h.jsxs)("div",{className:E.a["user-card-top-description"],children:[c?Object(h.jsx)("h3",{className:"".concat(E.a["user-details-card-top-description-header-3"]," ").concat(E.a["user-details-card-top-description-header-3"]),children:"username"}):null,Object(h.jsx)("p",{className:E.a["user-card-top-description-login"],children:t}),Object(h.jsxs)("div",{className:n,children:[Object(h.jsx)(m,{id:a,classes:E.a}),Object(h.jsxs)("p",{className:E.a["user-card-top-description-rank-id"],children:["ID: #",a]})]}),Object(h.jsxs)("a",{href:r,target:"_blank",className:E.a["user-card-top-description-page"],children:[Object(h.jsx)("img",{src:f,alt:"Github logo",className:E.a["user-card-top-description-image"]}),Object(h.jsx)("span",{children:"GitHub page"})]})]})]})},S=a.p+"static/media/about.e20417ee.svg",U=function(e){var t=e.userListItem,a=t.id,r=t.login,s=t.html_url,c=t.avatar_url;return Object(h.jsxs)("li",{className:b.a.user,id:a.toString(),children:[Object(h.jsx)(x,{avatar_url:c||S,login:r,id:a,html_url:s,isUserDetails:!1}),Object(h.jsx)("div",{className:b.a["user-footer"],children:Object(h.jsx)(_,{destinationPath:"/user/".concat(r),buttonClass:b.a["user-footer-button"],children:"Details"})})]})},D=a(17),L=a.n(D),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return L.a.get(O+"".concat(30,"&since=").concat(e)).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.map((function(e){return{login:e.login,id:e.id,avatar_url:e.avatar_url,html_url:e.html_url}}))}))},R="ADD_USERS_TO_USERS_LIST",k="SET_LOADING_USERS_LIST_DATA_STATUS",G="SET_LOADING_USERS_DETAILS_DATA_STATUS",y="SET_LOADING_USER_REPOS_DATA_STATUS",M="SET_NOTIFICATION",B="SET_PAGE",Z=function(e){return{type:M,payload:e}},J=function(e){return{type:k,payload:e}},w=function(e){return{type:G,payload:e}},H=function(e){return{type:y,payload:e}},P=function(e){return{type:B,payload:e}},F=function(e){return{type:R,payload:e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){t(J("ONGOING")),T(e).then((function(e){t(J("FULFILLED")),t(F(e)),t(Z({status:"success",title:"User list fetched."})),t(P(30))})).catch((function(){t(Z({status:"error",title:"Problem with fetching user list."})),t(J("ERROR"))}))}},Y="LOADING_USERS_LIST",C="LOADING_USER_DETAILS",Q="LOADING_USER_REPOS";!function(e){e.ONGOING="ONGOING",e.ERROR="ERROR",e.FULFILLED="FULFILLED",e.IDLE="IDLE"}(r||(r={}));var X,z=function(e){return e.requestsStatus.LOADING_USER_DETAILS===r.ONGOING},V=function(e){return e.requestsStatus.LOADING_USERS_LIST===r.ONGOING},q=function(e){return e.requestsStatus.LOADING_USER_REPOS===r.ONGOING},K=function(e){return"FULFILLED"===e.requestsStatus.LOADING_USERS_LIST},$=function(e){return"FULFILLED"===e.requestsStatus.LOADING_USER_DETAILS},ee=function(e){return"FULFILLED"===e.requestsStatus.LOADING_USER_REPOS},te=function(e){var t=e.usersList;return t.length?t:[]},ae=function(e){return e.notification},re=function(e){return e.page},se=a(47),ce=a(34),ie=a(48),ne=a.n(ie),oe=function(e){var t=e.loading,a=Object(ce.css)(X||(X=Object(se.a)(["\n    display: block;\n    margin: 2rem auto;\n  "])));return Object(h.jsx)("div",{style:{width:"100%"},children:Object(h.jsx)(ne.a,{loading:t,css:a,size:100})})},le=function(){var e=Object(c.b)(),t=Object(c.c)(te),a=Object(c.c)(V),r=!t.length;Object(o.useEffect)((function(){e(W())}),[e,r]);var s=null===t||void 0===t?void 0:t.map((function(e){return Object(h.jsx)(U,{userListItem:e},e.id)}));return Object(h.jsxs)("ul",{className:p.a["users-list"],children:[s,Object(h.jsx)(oe,{loading:a})]})},de=a(21),ue=a(12),pe=a.n(ue),je=function(e){var t=e.isMainpage;return Object(h.jsxs)("header",{className:pe.a["app-header"],children:[Object(h.jsx)("h1",{className:pe.a["app-header-1"],children:"This is recruitment task for Metapack company."}),Object(h.jsxs)("div",{className:pe.a["app-header-block"],children:[!t&&Object(h.jsx)(_,{buttonClass:pe.a["back-button"],destinationPath:g,children:"Back"}),Object(h.jsxs)("div",{className:pe.a["app-header-block-app-logo"],children:[Object(h.jsx)("img",{src:f,alt:"Github logo",className:pe.a["app-header-block-app-logo-image"]}),Object(h.jsx)("span",{className:pe.a["app-header-block-app-logo-text"],children:"GitHub users"})]})]})]})},be=a(30),he=a.n(be),_e=a(19),Oe=a.n(_e),ge=function(e){var t=e.status,a=e.title,r=e.message,s="";"error"===t&&(s=Oe.a.error),"success"===t&&(s=Oe.a.success);var c="".concat(Oe.a.notification," ").concat(s);return Object(h.jsxs)("section",{className:c,children:[Object(h.jsx)("h2",{className:Oe.a["notificion-header"],children:a}),Object(h.jsx)("p",{className:Oe.a["notificion-paragraph"],children:r})]})},me=function(e){var t=e.children,a="/"===Object(d.f)().pathname,r=Object(o.useRef)(null),s=Object(c.b)(),i=Object(o.useState)(!1),n=Object(de.a)(i,2),l=n[0],u=n[1],p=Object(c.c)(re),j=Object(c.c)(ae),b=j.status,_=j.title,O=Object(c.c)(K),g=Object(c.c)($),m=Object(c.c)(ee),f=a&&O||g&&m;setTimeout((function(){s(J("IDLE"))}),1500),(g||m)&&setTimeout((function(){s(w("IDLE")),s(H("IDLE"))}),1500);var A=a?he.a["user-list"]:he.a["user-details"];return Object(h.jsxs)("div",{className:he.a.app,onScroll:function(){var e=r.current,t=e.scrollTop,c=e.scrollHeight,i=e.clientHeight;r.current&&a&&!l&&(t+i>=c-i/4&&(u(!0),s(W(p)),setTimeout((function(){u(!1)}),5e3)))},ref:r,children:[Object(h.jsx)(je,{isMainpage:a}),f&&Object(h.jsx)(ge,{status:b,title:_}),Object(h.jsx)("main",{className:A,children:t})]})},fe=a(13),Ae=a.n(fe),Ie=function(e){return L.a.get("https://api.github.com/users/"+e).then((function(e){return e.data})).then((function(e){var t=e.name;return{login:e.login,name:t,id:e.id,avatar_url:e.avatar_url,html_url:e.html_url}}))},Ne=function(e){return L.a.get("".concat("https://api.github.com/users/").concat(e,"/repos")).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.map((function(e){return{name:e.name}}))}))},ve=function(){var e=Object(c.b)(),t=Object(d.g)().userId,a=Object(c.c)(z),r=Object(c.c)(q),s=Object(o.useState)({login:"",name:"",id:0,avatar_url:"",html_url:""}),i=Object(de.a)(s,2),n=i[0],l=i[1],u=Object(o.useState)([{name:""}]),p=Object(de.a)(u,2),j=p[0],b=p[1],_=n.login,O=n.id,g=n.avatar_url,m=n.html_url,f=(null===j||void 0===j?void 0:j.length)>=30?" Over ".concat(30):" ".concat(null===j||void 0===j?void 0:j.length),A=null===j||void 0===j?void 0:j.map((function(e,t){var a=e.name;return Object(h.jsx)("li",{children:Object(h.jsx)("p",{className:Ae.a["user-details-paragraph"],children:a})},"repo-list-item".concat(t))}));return Object(o.useEffect)((function(){e(w("ONGOING")),Ie(t).then((function(t){l(t),e(Z({status:"success",title:"User details fetched."})),e(w("FULFILLED"))})).catch((function(){e(Z({status:"error",title:"Problem with fetching user details."})),e(w("ERROR"))})),e(H("ONGOING")),Ne(t).then((function(t){b(t),e(H("FULFILLED"))})).catch((function(){e(Z({status:"error",title:"Problem with fetching user details."})),e(H("ERROR"))}))}),[e,t]),Object(h.jsxs)(h.Fragment,{children:[a&&Object(h.jsx)(oe,{loading:a}),!a&&Object(h.jsxs)("div",{className:Ae.a["user-details"],children:[Object(h.jsx)("h2",{className:Ae.a["user-details-header-2"],children:"Profile "}),Object(h.jsx)(x,{avatar_url:g||S,login:_,id:O,html_url:m,isUserDetails:!0}),Object(h.jsx)("h2",{className:Ae.a["user-details-header-2"],children:"Repositories"}),r&&Object(h.jsx)(oe,{loading:r}),!r&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h3",{className:Ae.a["user-details-header-3"],children:["Repositories count:",Object(h.jsx)("span",{className:Ae.a["user-details-paragraph"],children:f})]}),Object(h.jsx)("h3",{className:Ae.a["user-details-header-3"],children:"Repositories list:"}),A?Object(h.jsx)("ul",{children:A}):null]})]})]})},Ee=(a(82),function(){return Object(h.jsx)(l.a,{children:Object(h.jsx)(me,{children:Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{path:g,exact:!0,children:Object(h.jsx)(le,{})}),Object(h.jsx)(d.a,{path:"/user/:userId",children:Object(h.jsx)(ve,{})})]})})})}),xe=a(31),Se=[],Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;if(t.type===R){var a=[].concat(Object(xe.a)(e),Object(xe.a)(t.payload)),r=Object(xe.a)(new Set(a.map((function(e){return e.id})))).map((function(e){return a.find((function(t){return t.id===e}))}));return r}return e},De={status:"",title:"",message:""},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;return t.type===M?t.payload:e},Te=a(18),Re=a(14),ke={LOADING_USERS_LIST:r.IDLE,LOADING_USER_DETAILS:r.IDLE},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(Re.a)(Object(Re.a)({},e),{},Object(Te.a)({},Y,t.payload));case G:return Object(Re.a)(Object(Re.a)({},e),{},Object(Te.a)({},C,t.payload));case y:return Object(Re.a)(Object(Re.a)({},e),{},Object(Te.a)({},Q,t.payload));default:return e}},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return t.type===B?e+t.payload:e},Me=Object(i.b)({notification:Le,usersList:Ue,requestsStatus:Ge,page:ye}),Be=Object(i.c)(Me,Object(i.a)(n.a)),Ze=function(){return Object(h.jsx)(c.a,{store:Be,children:Object(h.jsx)(Ee,{})})};s.render(Object(h.jsx)(Ze,{}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.125452cf.chunk.js.map